language: go
sudo: false

os:
  - linux
  - osx

before_install:
  - curl -O https://ready-steady.github.io/travis/gfortran.sh && source gfortran.sh

install:
  - go get -d -t ./...
  - make install

script:
  - if [ "$TRAVIS_OS_NAME" == "linux" ]; then
      export LD_LIBRARY_PATH="$(pwd)/source:${LD_LIBRARY_PATH}";
    fi
  - go test -v

notifications:
  email: false

addons:
  apt:
    packages:
      - gfortran
